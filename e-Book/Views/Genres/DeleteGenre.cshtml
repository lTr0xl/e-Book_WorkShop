@using e_Book.ViewModels
@model DeleteGenreViewModel


@{
    ViewData["Title"] = "Genres";
}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

@section css {
    <link rel="stylesheet" href="~/css/deleteGenre.css" />
}
<div class="row justify-content-center" style="position:fixed; top:10rem;left:38rem;background-color:white;z-index:100;>
    <div class="modal-dialog" role="document" style="width:400px;">
        <div class="modal-content">
            <div class="modal-body">
                <p>Are you sure you want to delete this genre?</p>
            </div>
            <div class="modal-footer">
                <a asp-controller="Genres" asp-action="DeleteGenreConfirmed" asp-route-id="@Model.genreId" type="button" class="btn btn-danger">Yes</a>
                <a asp-controller="Genres" asp-action="Index" type="button" class="btn btn-secondary">No</a>
            </div>
        </div>
    </div>
</div>

<div class="modal-body d-flex justify-content-center" style="pointer-events:none; opacity:30%">
    <ul class="list-group list-group-flush">
        @foreach (var genre in Model.Genres)
        {
            var numBooks = genre.BookGenres.Count();
            <li class="list-group-item">
                <div class="row">
                    <div class="col-10">
                        <a class="nav-link text-dark" href="#">
                            <span style="font-weight:500">@genre.GenreName</span> <span> (@numBooks) </span>
                        </a>
                    </div>
                    <div class="col-2">
                        <a asp-controller="Genres" asp-action="DeleteGenre" asp-route-id="@genre.Id" type="button" class="btn-close" aria-label="Close" style="font-size:13px;margin-top:0.9rem "></a>
                    </div>
                </div>
            </li>
        }
    </ul>
</div>
